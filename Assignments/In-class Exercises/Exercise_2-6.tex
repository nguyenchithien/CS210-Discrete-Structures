\documentclass[a4paper,12pt]{book}
\usepackage[utf8]{inputenc}
\title{}
\author{Rachel Morris}
\date{\today}

\usepackage{rachwidgets}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{dirtree}
\usepackage{boxedminipage}

\setcounter{chapter}{2}
\setcounter{section}{5}
\newcommand{\laChapter}{2.6 Numerical Representations\ }
\newcounter{question}

\newcommand{\laClass}{CS 210\ }
\newcommand{\laSemester}{Fall 2017\ }

\pagestyle{fancy}
\fancyhf{}
\lhead{\laClass \laSemester}
\chead{}
\rhead{Ch \laChapter}
\rfoot{\thepage\ of \pageref{LastPage}}
\lfoot{\scriptsize Compiled by Rachel Morris, last updated \today}

\renewcommand{\headrulewidth}{2pt}
\renewcommand{\footrulewidth}{1pt}

\begin{document}

    %\toggletrue{answerkey}
    \togglefalse{answerkey}

    %------------------------------------------------------------------%
    %- Exercise Begin -------------------------------------------------%
    %------------------------------------------------------------------%

    \section{Numerical Representation}

    %------------------------------------------------------------------%
    \subsection{Intro practice}

        % - QUESTION --------------------------------------------------%
        \stepcounter{question}
        \begin{questionNOGRADE}{\thequestion}

            The set of digits in base-10 (decimal) number system is
            $\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\}$. Use this information
            to help you figure out the following.

            \begin{itemize}
                \item[a.]   Write out the set of digits in the octal
                (base-8) number system.
                \solution{ $\{0, 1, 2, 3, 4, 5, 6, 7\}$ }{ ~\\~\\ }

                \item[b.]   Write out the set of digits in the binary
                (base-2) number system.
                \solution{ $\{0, 1\}$ }{ ~\\~\\ }
            \end{itemize}
        \end{questionNOGRADE}

        \begin{introNOHEAD}
            The hexadecimal (base-16) number system is
            \begin{center}
                $\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F\}$.
            \end{center}
            Why do we use letters? To keep numbers 10 through 15
            as one-character representations.
        \end{introNOHEAD}

        \begin{intro}{Specifying base}
            When we need to specify the base when writing out
            numbers, write it within parentheses, with a subscript
            of its base number.

            \begin{itemize}
                \item   $(123)_{10}$ = 123, base-10
                \item   $(1337)_{8}$ = 1337, base-8
                \item   $(C47)_{16}$ = C47, base-16
                \item   $(1011)_{2}$ = 1011, base-2
            \end{itemize}
        \end{intro}

        \newpage
    \subsection{Digits}

        \begin{introNOHEAD}
            For the decimal number $2,368$, we can write this as its
            individual digits:

            \begin{center}
                \begin{tabular}{ | c | c | c | c | }
                    \hline
                    \textbf{Thousands}   ($10^{3}$) &
                    \textbf{Hundreds}    ($10^{2}$) &
                    \textbf{Tens}        ($10^{1}$) &
                    \textbf{Ones}        ($10^{0}$)
                    \\ \hline
                    2 & 3 & 6 & 8
                    \\ \hline
                \end{tabular}
            \end{center}

            And then we can build out $2,368$ as the mathematical equation:

            $$ 2 \cdot 10^{3} + 3 \cdot 10^{2} + 6 \cdot 10^{1} + 8 \cdot 10^{0} $$

            Likewise, for the binary number 0101 1001, we can write it as:

            \begin{center}
                \begin{tabular}{ | c | c | c | c | c | c | c | c | }
                    \hline
                    $2^{7}$ &
                    $2^{6}$ &
                    $2^{5}$ &
                    $2^{4}$ &
                    $2^{3}$ &
                    $2^{2}$ &
                    $2^{1}$ &
                    $2^{0}$
                    \\ \hline
                    0 & 1 & 0 & 1 & 1 & 0 & 0 & 1
                    \\ \hline
                \end{tabular}
            \end{center}
            
            And into the equation:

            $$1 \cdot 2^{6} + 1 \cdot 2^{4} + 1 \cdot 2^{3} + 1 \cdot 2^{0} $$
            
        \end{introNOHEAD}
    
        % - QUESTION --------------------------------------------------%
        \stepcounter{question}
        \begin{questionNOGRADE}{\thequestion}

            Expand each of the following numbers as a mathematical
            equation. Make sure to pay attention to the $base$ value.

            \begin{itemize}
                \item[a.]   Write out the equation for $(19)_{10}$
                    \begin{center}
                        \begin{tabular}{ | c | c | }
                            \hline
                            $10^{1}$ & $10^{0}$
                            \\ \hline
                            \solution{1}{} &
                            \solution{9}{}
                            \\ \hline
                        \end{tabular}
                    \end{center}
                
                \item[b.]   Write out the equation for (0010 1101)$_{2}$
                    \begin{center}
                        \begin{tabular}{ | c | c | c | c | c | c | c | c | }
                            \hline
                            $2^{7}$ &
                            $2^{6}$ &
                            $2^{5}$ &
                            $2^{4}$ &
                            $2^{3}$ &
                            $2^{2}$ &
                            $2^{1}$ &
                            $2^{0}$
                            \\ \hline
                            \solution{0}{} &
                            \solution{0}{} &
                            \solution{1}{} &
                            \solution{0}{} &
                            \solution{1}{} &
                            \solution{1}{} &
                            \solution{0}{} &
                            \solution{1}{}
                            \\ \hline
                        \end{tabular}
                    \end{center}
                
                \item[c.]   Write out the equation for $(FFAA66)_{16}$
                    \begin{center}
                        \begin{tabular}{ | c | c | c | c | c | c | }
                            \hline
                            $16^{5}$ &
                            $16^{4}$ &
                            $16^{3}$ &
                            $16^{2}$ &
                            $16^{1}$ &
                            $16^{0}$
                            \\ \hline
                            \solution{F}{} &
                            \solution{F}{} &
                            \solution{A}{} &
                            \solution{A}{} &
                            \solution{6}{} &
                            \solution{6}{}
                            \\ \hline
                        \end{tabular}
                    \end{center}
            \end{itemize}
        \end{questionNOGRADE}

        \newpage

        \subsection{Converting between bases}

            \begin{intro}{Algorithm for converting a decimal number to base $b$:}
                \begin{enumerate}
                    \item   Input a natural number $n$
                    \item   While $n > 0$, do the following:
                        \begin{enumerate}
                            \item   Divide $n$ by $b$ and get a quotient $q$ and remainder $r$.
                            \item   Write $r$ as the next (right-to-left) digit.
                            \item   Replace the value of $n$ with $q$, and repeat.
                        \end{enumerate}
                \end{enumerate}
            \end{intro}

    
        % - QUESTION --------------------------------------------------%
        \stepcounter{question}
        \begin{questionNOGRADE}{\thequestion}
            Convert the following between bases:
            
            \begin{itemize}
                \item[a.]   Convert (35)$_{10}$ to binary (base-2)
                    \tab $n = 35$, $b = 2$
                    \solution{
                        ~\\
                        $35/2 = 17 + 1/2 \tab (a/b = q + r/b)$ \tab[1cm] $q = 17$, $r = 1$ \\
                        $17/2 = 8 + 1/2 $ \tab[5cm] $q = 8$, $r = 1$ \\
                        $8/2 = 4 + 0/2$ \tab[5.2cm] $q = 4$, $r = 0$ \\
                        $4/2 = 2 + 0/2$ \tab[5.2cm] $q = 2$, $r = 0$ \\
                        $2/2 = 1 + 0/2$ \tab[5.2cm] $q = 1$, $r = 0$ \\
                        $1/2 = 0 + 1/2$ \tab[5.2cm] $q = 0$, $r = 1$ \\
                        n = 0 \\ \\
                        = 0010 0011
                    }{ ~\\ \raisebox{0pt}[5cm][0pt]{  } }
                
                \item[b.]   Convert (125)$_{10}$ to binary (base-2)
                    \tab $n = 26$, $b = 16$
                    \solution{
                        ~\\
                        $125/2 = 62 + 1/2 \tab (a/b = q + r/b)$ \tab[1cm] $q = 62$, $r = 1$ \\
                        $62/2 = 31 + 0/2 $ \tab[5cm] $q = 31$, $r = 0$ \\
                        $31/2 = 15 + 1/2 $ \tab[5cm] $q = 15$, $r = 1$ \\
                        $15/2 = 7 + 1/2 $ \tab[5.2cm] $q = 7$, $r = 1$ \\
                        $7/2 = 3 + 1/2 $ \tab[5.4cm] $q = 3$, $r = 1$ \\
                        $3/2 = 1 + 1/2 $ \tab[5.4cm] $q = 1$, $r = 1$ \\
                        $1/2 = 0 + 1/2 $ \tab[5.4cm] $q = 0$, $r = 1$ \\
                        n = 0 \\ \\
                        = 0111 1101
                    }{ ~\\ \raisebox{0pt}[2cm][0pt]{  } }
            \end{itemize}            
        \end{questionNOGRADE}

        \newpage

            \begin{intro}{Hexadecimal to Binary}
                Often in computers, we write binary strings as hexadecimal
                to save space and make it easier to read.

                \begin{center}
                    \begin{tabular}{l c c c c c c c c}
                        Hex & 0 & 1 & 2 & 3 & 4 & 5 & 6 & 7
                        \\
                        Binary & 0000 & 0001 & 0010 & 0011 & 0100 & 0101 & 0110 & 0111
                        \\ \hline
                        Hex & 8 & 9 & A & B & C & D & E & F
                        \\
                        Binary & 1000 & 1001 & 1010 & 1011 & 1100 & 1101 & 1110 & 1111                        
                    \end{tabular}
                \end{center}

                \paragraph{Example:}
                Convert 11001 from binary to hexadecimal \\
                    1. Write out in chunks of four. Add leading 0's to the left side. \\
                        \tab 0001 1001 \\
                    2. Swap out each ``nibble" with hexadecimal \\
                        \tab 0001 = 1 \tab 1001 = 9 \\ \\
                    So, (0001 1001)$_{2}$ = (19)$_{16}$

                \paragraph{Example:}
                Convert $DAD$ from hexadecimal to binary \\
                    1. Convert each digit back to binary. \\
                        \tab D = 1101 \tab A = 1010 \tab D = 1101                         
                    \\ \\ So, (DAD)$_{16}$ = (1101 1010 1101)$_{2}$
            \end{intro}


        % - QUESTION --------------------------------------------------%
        \stepcounter{question}
        \begin{questionNOGRADE}{\thequestion}
            Do the following conversions

            \begin{itemize}
                \item[a.]   Convert $(1F0B)_{16}$ to binary:
                    \solution{
                        ~\\
                        1 = 0001 \tab F = 1111 \tab 0 = 0000 \tab B = 1011 \\ \\
                        = 0001 1111 0000 1011
                    }{ ~\\ \raisebox{0pt}[2cm][0pt]{  } }

                \item[b.]   Convert (0100 0110)$_{2}$ to hexadecimal:
                    \solution{
                        ~\\
                        0100 = 4 \tab 0110 = 6 \\ \\
                        = 46
                    }{ ~\\ \raisebox{0pt}[2cm][0pt]{  } }
            \end{itemize}
        \end{questionNOGRADE}

    \newpage
    \subsection{Programming a converter}

        Let's take the algorithm given by the textbook and write
        a program to do our conversions for us.
    
            \begin{intro}{Algorithm for converting a decimal number to base $b$:}
                \begin{enumerate}
                    \item   Input a natural number $n$
                    \item   While $n > 0$, do the following:
                        \begin{enumerate}
                            \item   Divide $n$ by $b$ and get a quotient $q$ and remainder $r$.
                            \item   Write $r$ as the next (right-to-left) digit.
                            \item   Replace the value of $n$ with $q$, and repeat.
                        \end{enumerate}
                \end{enumerate}
            \end{intro}

        Open up a Python IDE (e.g., IDLE, Wing) and start with the following code,
        which includes a function definition and the main program loop:

\begin{lstlisting}[style=pycode]
# Function definition
def ConvertFromDecimal( n, b ):
    print( "" )
    print( "n = " + str( n ) + ", b = " + str( b ) )

    number = ""

    return number

# Program
while( True ):
    n = input( "Enter a base-10 number to convert: " )
    b = input( "Enter a base to convert it to: " )

    result = ConvertFromDecimal( n, b )

    print( "Result: " + result )
\end{lstlisting}

        We are going to update the \texttt{ConvertFromDecimal}
        function to follow the algorithm above.

    \newpage

    We need to begin implementing the algorithm from step 2.
    For the step ``While $n > 0$, do the following:", write the Python
    code:

\begin{verbatim}
while ( n > 0 ):
\end{verbatim}

    Note that in Python, the inside of a while loop is specified by
    indenting all inner code forward one level; Python doesn't use
    curly braces like C++, Java, or C\# does.
    
\begin{lstlisting}[style=pycode]
def ConvertFromDecimal( n, b ):
    # Now we're inside the function...
    print( "" )
    print( "n = " + str( n ) + ", b = " + str( b ) )

    number = ""

    print( "" )
    while ( n > 0 ):
        # Now we're inside the while loop...
\end{lstlisting}

    Next, within the while loop, we need to calculate the quotient $q$
    and the remainder $r$, which we can use with division and modulus.
    This is step 2-a.

\begin{verbatim}
q = n / b
r = n % b
\end{verbatim}

    How does a normal division give us the correct value? Because
    we are treating $n$ and $b$ as integers (not floats or decimals),
    so it is \textbf{integer division}. In programming, this means
    it truncates any remainder.

    We can print out the results like this:

\begin{verbatim}
print( str( n ) + "/" + str( b ) + " = "
        + str( q ) + " + " + str( r ) + "/" + str( b ) )
\end{verbatim}

    Now we add $r$ onto our number string, following step 2-b:

\begin{verbatim}
number = str( r ) + number
\end{verbatim}

    And, finally, we replace $n$ with $q$ - step 2-c:

\begin{verbatim}
n = q
\end{verbatim}

    At the return of the function, the number is returned.

    \newpage

    Full code:

\begin{lstlisting}[style=pycode]
# Function definition
def ConvertFromDecimal( n, b ):
    print( "" )
    print( "n = " + str( n ) + ", b = " + str( b ) )

    number = ""

    print( "" )
    while ( n > 0 ):
        q = n / b
        r = n % b

        print( str( n ) + "/" + str( b ) + " = " + str( q ) + " + " + str( r ) + "/" + str( b ) )

        number = str( r ) + number
        n = q

    return number

# Program
while( True ):
    n = input( "Enter a base-10 number to convert: " )
    b = input( "Enter a base to convert it to: " )

    result = ConvertFromDecimal( n, b )

    print( "" )
    print( "Result: " + result )
    print( "\n" )
\end{lstlisting}

    \newpage

    Example output:

\begin{lstlisting}[style=output]
Enter a base-10 number to convert: 23
Enter a base to convert it to: 2

n = 23, b = 2

23/2 = 11 + 1/2
11/2 = 5 + 1/2
5/2 = 2 + 1/2
2/2 = 1 + 0/2
1/2 = 0 + 1/2

Result: 10111


Enter a base-10 number to convert: 65
Enter a base to convert it to: 16

n = 65, b = 16

65/16 = 4 + 1/16
4/16 = 0 + 4/16

Result: 41
\end{lstlisting}
    
\end{document}








